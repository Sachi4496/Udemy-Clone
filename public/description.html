<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <script src="./scripts/navbar.js"></script>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
  </head>

  <body>
    <header id="nav"></header>

    <div class="w-full flex border-2">
      <div class="w-8/12 bg-gray-800" id="left"></div>
      <div class="w-4/12 bg-gray-800">
        <div id="right" class="w-3/12 fixed z-50 border-black border-2 mt-4 bg-white">

        </div>
      </div>
    </div>
  </body>
</html>

<script type="module">
  import navbar from "./components/header.js";

  let promise = new Promise((resolve, reject) => {
    let header = document.getElementById("nav");

    header.innerHTML = navbar();

    resolve("Navbar imported");
  });
  promise.then((res) => {
    console.log(res);
    addFunctionalityToNavbar();
    console.log("done");
  });
</script>

<script>
  let desData = JSON.parse(localStorage.getItem("decData"));
  console.log(desData);

  showdata(desData[desData.length - 1]);

  function showdata(data) {
    let left = document.getElementById("left");

    let right = document.getElementById("right");

    console.log("kdkj", data.image);
    left.innerText = null;
    right.innerText = null;


    //right


    let imageDiv = document.createElement("div");
    let img = document.createElement("img");
    img.src = data.image;
    img.setAttribute('class','w-full')
    // imageDiv.append(img);
    imageDiv.append(img);
    imageDiv.setAttribute('class','w-full');

    let price = document.createElement("p");
    price.innerText ="â‚¹ "+ data.price;
    price.setAttribute('class','mt-4 ml-4 text-2xl font-bold text-black');

    let btn = document.createElement("button");
    btn.innerText = "Add To Cart";
    btn.setAttribute('class','bg-purple-600 px-16 py-3 mt-4 ml-12 font-bold  hover:bg-purple-800 text-white');

    let buyNow = document.createElement("button");
    buyNow.innerText = "Buy Now";
    buyNow.setAttribute('class','border-black border-2 px-16 py-3 mt-4 ml-14 font-bold');

    let includeDiv = document.createElement("div");

    console.log(data.include[0]);

    let i1 = document.createElement("h2"); 
    i1.innerText = data.include[0].i1;
    i1.setAttribute('class','ml-2 mt-2 font-bold')

    let i2 = document.createElement("p");
    i2.innerText = data.include[0].i2;
    i2.setAttribute('class','ml-2 mt-1 text-base');

    let i3 = document.createElement("p");
    i3.innerText = data.include[0].i3;
    i3.setAttribute('class','ml-2 mt-1 text-base');

    let i4 = document.createElement("p");
    i4.innerText = data.include[0].i4;
    i4.setAttribute('class','ml-2 mt-1 text-base');

    let i5 = document.createElement("p");
    i5.innerText = data.include[0].i5;
    i5.setAttribute('class','ml-2 mt-1 text-base');

    let i6 = document.createElement("p");
    i6.innerText = data.include[0].i6;
    i6.setAttribute('class','ml-2 mt-1 text-base mb-10');

    right.append(imageDiv,price,btn,buyNow,i1,i2,i3,i4,i5,i6);


    //left

    let headingDiv = document.createElement("div");


    let name = document.createElement("h1");
    name.innerText = data.name;
    name.setAttribute("class", "ml-40 text-white mt-5 font-bold text-4xl");

    let title = document.createElement("p");
    title.innerText = data.title;
    title.setAttribute("class", "ml-40 text-white mt-5 ");

    let bestseller = document.createElement("p");
    bestseller.innerText = "Bestseller";
    bestseller.setAttribute("class","ml-40 mt-5 px-2 py-0 bg-yellow-200 inline-block");

    let rating = document.createElement("p");
    rating.innerText = data.rating;
    rating.setAttribute("class","ml-5 text-white mt-5 text-yellow-300 inline-block");

    // console.log(data.learn[0]);
    // console.log(data.learn[0].l1);
    headingDiv.append(name, title, bestseller, rating);

    headingDiv.setAttribute('class','bg-gray-800 mt-4 mb-4');

    let addLearn = document.createElement("div");

    let learnDiv = document.createElement("div");

    let learnDiv1 = document.createElement("div");
    let learnDiv2 = document.createElement("div");

    let learn = document.createElement("h1");
    learn.innerText = data.learn[0].heading;
    learn.setAttribute("class", "text-black font-bold text-2xl mb-4");

    let learn_li = document.createElement("p");
    learn_li.innerText ="âœ“ "+ data.learn[0].l1;
    learn_li.setAttribute("class", "ml-2 text-black block");

    let learn_li2 = document.createElement("p");
    learn_li2.innerText ="âœ“ "+ data.learn[0].l2;
    learn_li2.setAttribute("class", "ml-2 text-black");

    let learn_li3 = document.createElement("p");
    learn_li3.innerText ="âœ“ "+ data.learn[0].l3;
    learn_li3.setAttribute("class", "ml-2 text-black");

    let learn_li4 = document.createElement("p");
    learn_li4.innerText ="âœ“ "+ data.learn[0].l4;
    learn_li4.setAttribute("class", "ml-2 text-black");


    let learn_li5 = document.createElement("p");
    learn_li5.innerText ="âœ“ "+ data.learn[0].l5;
    learn_li5.setAttribute("class", "ml-2 text-black");

    let learn_li6 = document.createElement("p");
    learn_li6.innerText ="âœ“  "+ data.learn[0].l6;
    learn_li6.setAttribute("class", "ml-2 text-black");

    let learn_li7 = document.createElement("p");
    learn_li7.innerText ="âœ“ "+ data.learn[0].l7;
    learn_li7.setAttribute("class", "ml-2 text-black");

    let learn_li8 = document.createElement("p");
    learn_li8.innerText ="âœ“ "+ data.learn[0].l8;
    learn_li8.setAttribute("class", "ml-2  text-black");

    learnDiv1.append(learn_li,learn_li2,learn_li3,learn_li4);
    learnDiv2.append(learn_li5,learn_li6,learn_li7,learn_li8);
    learnDiv.append(learnDiv1,learnDiv2);
    learnDiv.setAttribute('class','flex');
    addLearn.append(learn,learnDiv);
    addLearn.setAttribute('class','w-8/12 m-auto mt-8 bg-white border-gray-300 border-2');

    let text = document.createElement("p");

    text.innerText = "Curated for the Udemy Business collection";
    text.setAttribute('class','ml-40 inline-block bg-white px-48 py-2 mt-4 border-gray-300 border-2 font-bold');

    let contMain = document.createElement("div");

    let contetnt_c1 = document.createElement("p");
    contetnt_c1.innerText =" "+ data.content[0].c1;
    contetnt_c1.setAttribute("class", "text-black ml-4 font-bold");

    let contetnt_c2 = document.createElement("p");
    contetnt_c2.innerText ="ðŸŸƒ "+ data.content[0].c2;
    contetnt_c2.setAttribute("class", "text-black ml-4");

    let contetnt_c3 = document.createElement("p");
    contetnt_c3.innerText ="ðŸŸƒ "+ data.content[0].c3;
    contetnt_c3.setAttribute("class", "text-black ml-4");

    let contetnt_c4 = document.createElement("p");
    contetnt_c4.innerText ="ðŸŸƒ "+ data.content[0].c4;
    contetnt_c4.setAttribute("class", "text-black ml-4");

    let contetnt_c5 = document.createElement("p");
    contetnt_c5.innerText ="ðŸŸƒ "+ data.content[0].c5;
    contetnt_c5.setAttribute("class", "text-black ml-4");
 
    contMain.append(contetnt_c1,contetnt_c2,contetnt_c3,contetnt_c4,contetnt_c5);

    contMain.setAttribute('class','w-8/12 m-auto mt-8 bg-white border-gray-300 border-2');

    let description = document.createElement("div");


    let descriptionDiv1 = document.createElement("div");

    let description_1 = document.createElement("p");
    description_1.innerText = data.description[0].heading;
    description_1.setAttribute("class", "text-black ml-2 font-bold");

    let description_2 = document.createElement("p");
    description_2.innerText = data.description[0].desc1;
    description_2.setAttribute("class", "text-black ml-2");

    let description_3 = document.createElement("p");
    description_3.innerText = data.description[0].desc2;
    description_3.setAttribute("class", "text-black ml-2");

    let description_4 = document.createElement("p");
    description_4.innerText = data.description[0].desc3;
    description_4.setAttribute("class", "text-black ml-2");
 
    descriptionDiv1.append(description_1,description_2,description_3,description_4);
    descriptionDiv1.setAttribute('class','w-8/12 m-auto mt-8 bg-white border-gray-300 border-2');

    left.append(headingDiv,addLearn,text,contMain,descriptionDiv1);

  }
</script>
