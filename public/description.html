<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <script src="./scripts/navbar.js"></script>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
  </head>

  <body>
    <header id="nav"></header>

    <div class="w-full flex">
      <div class="w-1/2 h-84 bg-gray-800" id="left"></div>
      <div class="w-1/2 h-84 bg-gray-800" id="right"></div>
    </div>
    <div class="w-full flex">
      <div class="w-1/2 h-84 mt-8 border border-gray-300  ml-40" id="bot">

      </div>
    </div>
    <div class="w-1/2  mt-8 border ml-40">U Curated for the Udemy Business collection</div>
  </body>
</html>

<script type="module">
  import navbar from "./components/header.js";

  let promise = new Promise((resolve, reject) => {
    let header = document.getElementById("nav");

    header.innerHTML = navbar();

    resolve("Navbar imported");
  });
  promise.then((res) => {
    console.log(res);
    addFunctionalityToNavbar();
    console.log("done");
  });
</script>

<script>
  let desData = JSON.parse(localStorage.getItem("decData"));
  console.log(desData);

  showdata(desData[desData.length - 1]);

  function showdata(data) {
    let left = document.getElementById("left");

    let right = document.getElementById("right");

    console.log("kdkj", data.name);
    left.innerText = null;
    right.innerText = null;

    let topDiv = document.createElement("div");

    let name = document.createElement("h1");
    name.innerText = data.name;
    name.setAttribute("class", "ml-40 text-white mt-5 font-bold text-4xl");

    let title = document.createElement("p");
    title.innerText = data.title;
    title.setAttribute("class", "ml-40 text-white mt-5 ");

    let bestseller = document.createElement("p");
    bestseller.innerText = "Bestseller";
    bestseller.setAttribute("class","ml-40 mt-5 px-2 py-0 bg-yellow-200 inline-block");

    let rating = document.createElement("p");
    rating.innerText = data.rating;
    rating.setAttribute("class","ml-5 text-white mt-5 text-yellow-300 inline-block");

    // console.log(data.learn[0]);
    // console.log(data.learn[0].l1);
    topDiv.append(name, title, bestseller, rating);

    left.append(topDiv);

    let bot = document.getElementById("bot");
    bot.innerText = null;

    console.log("kdkj", data.learn[0]);
    // bot.innerText = null;


    let learnDiv1 = document.createElement("div");

    let learn = document.createElement("h1");
    learn.innerText = data.learn[0].heading;
    learn.setAttribute("class", "text-black font-bold text-4xl mb-4");

    let learn_li = document.createElement("p");
    learn_li.innerText ="✓ "+ data.learn[0].l1;
    learn_li.setAttribute("class", "text-black block");

    let learn_li2 = document.createElement("p");
    learn_li2.innerText ="✓ "+ data.learn[0].l2;
    learn_li2.setAttribute("class", "text-black");

    let learn_li3 = document.createElement("p");
    learn_li3.innerText ="✓ "+ data.learn[0].l3;
    learn_li3.setAttribute("class", "text-black");

    let learn_li4 = document.createElement("p");
    learn_li4.innerText ="✓ "+ data.learn[0].l4;
    learn_li4.setAttribute("class", "text-black");

    let learnDiv2 = document.createElement("div");

    let learn_li5 = document.createElement("p");
    learn_li5.innerText ="✓ "+ data.learn[0].l5;
    learn_li5.setAttribute("class", "text-black");

    let learn_li6 = document.createElement("p");
    learn_li6.innerText ="✓  "+ data.learn[0].l6;
    learn_li6.setAttribute("class", "text-black");

    let learn_li7 = document.createElement("p");
    learn_li7.innerText ="✓ "+ data.learn[0].l7;
    learn_li7.setAttribute("class", "text-black");

    let learn_li8 = document.createElement("p");
    learn_li8.innerText ="✓ "+ data.learn[0].l8;
    learn_li8.setAttribute("class", " text-black");


    learnDiv1.append(learn_li,learn_li2,learn_li3,learn_li4);
    learnDiv1.setAttribute('class','w-1/2 inline-block');
    learnDiv2.append(learn_li5,learn_li6,learn_li7,learn_li8);
    learnDiv2.setAttribute('class','w-1/2 inline-block ');
    bot.append(learn,learnDiv1,learnDiv2);
    // bot.append(botDiv);
  }
</script>
